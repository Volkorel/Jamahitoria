political_decisions = {
    enact_dual_monarchy = {
		picture = form_dual_mariaf
        potential = {
            tag = X05
            OR = {
                NOT = { exists = BAV }
                BAV = { vassal_of = X05 }
            }
            NOT = { has_global_flag = has_become_dual_monarchy }
        }

        allow = {
            war = no
            OR = {
                GER = { exists = yes }
                NGF = { exists = yes }
                nationalism_n_imperialism = 1
            }
        }

        effect = {
            clr_country_flag = wants_to_unify
            set_global_flag = has_become_dual_monarchy
            all_core = {
                add_core = KUK
            }
            BAV = {
                all_core = { add_core = KUK }
            }
            HRZ = {
                all_core = { add_core = KUK }
            }
            SER = {
                all_core = { add_core = KUK }
            }
            WAL = {
                all_core = { add_core = KUK }
            }
            X47 = {
                all_core = { add_core = KUK }
            }
            any_pop = {
                limit = { has_pop_culture = south_german }
                militancy = -4
            }
            any_pop = {
                limit = {
                    OR = {
                        has_pop_culture = slovak
                        has_pop_culture = croat
                        has_pop_culture = slovene
                        has_pop_culture = north_italian
                        has_pop_culture = polish
                        has_pop_culture = romanian
                        has_pop_culture = ukrainian
                        has_pop_culture = czech
						has_pop_culture = bulgarian
                    }
                }
                consciousness = 5
            }
            add_accepted_culture = south_german
            change_tag = KUK
            set_country_flag = dual_monarchy
            random_country = {
                limit = {
                    OR = {
                        tag = NGF
                        tag = HAN
                        tag = GER
                    }
                    exists = yes
                    is_greater_power = yes
                }
                relation = { who = THIS value = 50 }
            }
			BAV = {
                any_owned = {
                    limit = { is_core = BAV }
                    secede_province = KUK
                }
			}
        }
        ai_will_do = {
            factor = 1
        }
    }

    the_grunderzeit = {
        potential = {
            capital = 619
            NOT = {
                has_country_flag = grunderzeit_we_have_done
            }
        }
        allow = {
            iron_railroad = 1
            hot_blast = 1
        }
        effect = {
            619 = {
                any_pop = {
                    ideology = {
                        value = liberal
                        factor = 0.2
                    }
                }
                life_rating = 5
            }
            prestige = 25
            set_country_flag = grunderzeit_we_have_done
        }
    }

    become_austria = {
        picture = form_dual_mariaf
        potential = {
            tag = KUK
            NOT = {
                has_country_modifier = global_liberal_agitation
                has_country_modifier = springtime_of_nations
            }
        }

        allow = {
            war = no
            OR = {
                AND = {
                    exists = BAV
                    BAV = {
                        NOT = { vassal_of = KUK }
                    }
                }
                NOT = {
                    any_owned_province = {
                        is_core = BAV
                    }
                }
                NOT = {
                    government = absolute_monarchy
                    government = prussian_constitutionalism
                    government = hms_government
                    government = democracy
                }
            }
        }

        effect = {
            all_core = {
                remove_core = KUK
                add_core = X05
            }
            any_pop = {
                limit = { has_pop_culture = south_german }
                militancy = 4
            }
            remove_accepted_culture = south_german
            clr_country_flag = dual_monarchy
            change_tag = X05
        }
    }

    become_hungary = {
        picture = enact_dual_monarchy
        potential = {
            tag = KUK
            NOT = {
                exists = BAV
            }
        }

        allow = {
            war = no
            NOT = { owns = 641 }
            owns = 599
        }

        effect = {
            KUK = {
                all_core = { remove_core = KUK }
            }
            capital = 599
            any_pop = {
                limit = { has_pop_culture = avar }
                militancy = 4
            }
            any_pop = {
                limit = { has_pop_culture = south_german }
                militancy = -4
            }
            primary_culture = south_german
            clr_country_flag = dual_monarchy
            change_tag = BAV
        }
    }

    begin_hungarian_revolution = {
        picture = gtfo
        potential = {
            tag = BAV
            has_global_flag = hungarian_revolution_occurred
            NOT = { has_country_flag = hungarian_revolution_began }
        }

        allow = {
            war_with = X05
        }

        effect = {
            set_country_flag = hungarian_revolution_began
            small_arms = 10
            regular_clothes = 10
            leadership = 40
            define_general = {
                name = "Jozef von Steilgert"
                personality = intelligent
                background = natural_born_leader
            }
            add_country_modifier = {
                name = begin_revolution
                duration = 365
            }
            any_pop = {
                limit = { has_pop_culture = south_german }
                militancy = -8
            }
            any_owned = {
                limit = { is_core = GER }
                any_pop = {
                    limit = { has_pop_culture = north_german }
                    militancy = 6
                }
                add_province_modifier = {
                    name = nationalist_agitation
                    duration = 1095
                }
            }
            any_owned = {
                limit = { is_core = SER }
                any_pop = {
                    limit = { has_pop_culture = serb }
                    militancy = 6
                }
                add_province_modifier = {
                    name = nationalist_agitation
                    duration = 1095
                }
            }
        }

        ai_will_do = {
            factor = 1
        }
    }

    end_of_hungarian_revolution = {
        potential = {
            tag = BAV
            has_global_flag = hungarian_revolution_occurred
            X05 = {
                NOT = { has_country_flag = austria_let_hungary_go }
            }
            NOT = { year = 1860 }
            ai = yes
        }

        allow = {
            war_with = X05
            OR = {
                AND = {
                    capital_scope = { controlled_by = THIS }
                    national_provinces_occupied = .75
                }
                AND = {
                    capital_scope = { NOT = { controlled_by = THIS } }
                    national_provinces_occupied = .50
                }
            }
        }

        effect = {
            clr_global_flag = hungarian_revolution_occurred
            end_war = X05
            set_country_flag = annex_to_master
            X05 = {
                prestige = 25
                create_vassal = BAV
                any_pop = {
                    scaled_militancy = {
                        ideology = liberal
                        factor = -4
                    }
                }
            }
        }

        ai_will_do = {
            factor = 1
        }
    }
    propose_danube_federation = {
        potential = {
            tag = KUK
            owns = 619
            owns = 641
            OR = {
                any_owned_province = { is_core = BOH }
                any_owned_province = { is_core = SLO }
                any_owned_province = { is_core = SLV }
                any_owned_province = { is_core = POL }
                any_owned_province = { is_core = ROM }
                any_owned_province = { is_core = CRO }
            }
            NOT = {
                exists = DNB
                has_global_flag = proposed_danube_federation
            }
        }

        allow = {
            war = no
            is_greater_power = yes
            revolution_n_counterrevolution = 1
            social_science = 1
            OR = {
                government = democracy
                government = hms_government
            }
            NOT = {
                average_militancy = 4
                num_of_revolts = 1
            }
        }

        effect = {
            set_global_flag = proposed_danube_federation
            set_country_flag = danube_proposal_in_progress
            prestige = 10
            any_pop = {
                limit = { is_primary_culture = no }
                militancy = -2
            }
            any_pop = {
                limit = { is_primary_culture = yes }
                consciousness = 2
            }
        }

        ai_will_do = {
            factor = 1
            modifier = {
                factor = 0
                NOT = {
                    OR = {
                        ruling_party_ideology = liberal
                        ruling_party_ideology = socialist
                    }
                }
            }
        }
    }

    become_danube_federation = {
        picture = propose_danube_federation
        potential = {
            tag = KUK
            owns = 619
            owns = 641
            has_country_flag = danube_proposal_in_progress
            OR = {
                has_global_flag = full_hungarian_approval
                has_global_flag = partial_hungarian_approval
                has_global_flag = no_hungarian_approval
            }
            OR = {
                has_global_flag = full_czech_approval
                has_global_flag = partial_czech_approval
                has_global_flag = no_czech_approval
                NOT = { any_owned_province = { is_core = BOH } }
            }
            OR = {
                has_global_flag = full_romanian_approval
                has_global_flag = partial_romanian_approval
                has_global_flag = no_romanian_approval
                NOT = { any_owned_province = { is_core = ROM } }
            }
            OR = {
                has_global_flag = full_croatian_approval
                has_global_flag = partial_croatian_approval
                has_global_flag = no_croatian_approval
                NOT = { any_owned_province = { is_core = CRO } }
            }
            OR = {
                has_global_flag = full_slovene_approval
                has_global_flag = partial_slovene_approval
                has_global_flag = no_slovene_approval
                NOT = { any_owned_province = { is_core = SLO } }
            }
            OR = {
                has_global_flag = full_slovakian_approval
                has_global_flag = partial_slovakian_approval
                has_global_flag = no_slovakian_approval
                NOT = { any_owned_province = { is_core = SLV } }
            }
            OR = {
                has_global_flag = full_polish_approval
                has_global_flag = partial_polish_approval
                has_global_flag = no_polish_approval
                NOT = { any_owned_province = { is_core = POL } }
            }
        }

        allow = {
            war = no
            OR = {
                government = democracy
                government = hms_government
            }
            NOT = {
                average_militancy = 4
                num_of_revolts = 1
            }
        }

        effect = {
            clr_country_flag = danube_proposal_in_progress
            prestige = 25
            political_reform = state_equal_weight
            all_core = {
                remove_core = KUK
                add_core = DNB
            }
            change_tag = DNB
            nationalvalue = nv_equality
            add_country_modifier = {
                name = national_confusion
                duration = 3650
            }
        }

        ai_will_do = {
            factor = 1
        }
    }

    end_danube_federation = {
        picture = propose_danube_federation
        potential = {
            tag = DNB
            641 = {
                NOT = { owned_by = THIS }
                owner = { NOT = { vassal_of = THIS } }
            }
            625 = {
                NOT = { owned_by = THIS }
                owner = { NOT = { vassal_of = THIS } }
            }
            633 = {
                NOT = { owned_by = THIS }
                owner = { NOT = { vassal_of = THIS } }
            }
            657 = {
                NOT = { owned_by = THIS }
                owner = { NOT = { vassal_of = THIS } }
            }
            702 = {
                NOT = { owned_by = THIS }
                owner = { NOT = { vassal_of = THIS } }
            }
            768 = {
                NOT = { owned_by = THIS }
                owner = { NOT = { vassal_of = THIS } }
            }
            771 = {
                NOT = { owned_by = THIS }
                owner = { NOT = { vassal_of = THIS } }
            }
        }

        allow = {
            war = no
        }

        effect = {
            prestige = -20
            primary_culture = avar
            remove_accepted_culture = south_german
            remove_accepted_culture = slovak
            remove_accepted_culture = slovene
            remove_accepted_culture = czech
            remove_accepted_culture = romanian
            remove_accepted_culture = polish
            remove_accepted_culture = croat
            all_core = { remove_core = DNB }
            change_tag = X05
            nationalvalue = nv_autocracy
            add_country_modifier = {
                name = national_confusion
                duration = 3650
            }
            clr_country_flag = dual_monarchy
            any_pop = {
                limit = { is_primary_culture = yes }
                militancy = -5
            }
        }

        ai_will_do = {
            factor = 1
        }
    }

    embrace_czech_minority = {
        picture = embrace_minority
        potential = {
            OR = {
                tag = KUK
                tag = DNB
            }
            OR = {
				any_owned_province = { is_core = BOH }
				any_owned_province = { is_core = CZE }
			}
            NOT = {
                OR = {
                    accepted_culture = czech
                    has_country_flag = embraced_czechs
                }
            }
            NOT = { has_country_flag = danube_proposal_in_progress }
        }

        allow = {
            year = 1860
            prestige = 50
            nationalism_n_imperialism = 1
            experimental_psychology = 1
        }

        effect = {
            set_country_flag = embraced_czechs
            add_accepted_culture = czech
            prestige = -25
            any_pop = {
                limit = { has_pop_culture = avar }
                consciousness = 4
                militancy = 4
            }
            any_pop = {
                limit = { has_pop_culture = czech }
                consciousness = -4
                militancy = -4
            }
        }
        ai_will_do = {
            factor = 1
        }
    }

    embrace_slovene_minority = {
        picture = embrace_minority
        potential = {
            OR = {
                tag = KUK
                tag = DNB
            }
            any_owned_province = { is_core = SLO }
            NOT = {
                accepted_culture = slovene
                has_country_flag = embraced_slovenes
                has_country_flag = danube_proposal_in_progress
            }
            OR = {
                accepted_culture = croat
                NOT = { any_owned_province = { is_core = CRO } }
            }
        }
        allow = {
            year = 1875
            prestige = 50
            revolution_n_counterrevolution = 1
            psychoanalysis = 1
            social_science = 1
        }
        effect = {
            set_country_flag = embraced_slovenes
            add_accepted_culture = slovene
            prestige = -25
            any_pop = {
                limit = {
                    OR = {
                        has_pop_culture = avar
                        has_pop_culture = czech
                        has_pop_culture = croat
                    }
                }
                militancy = 4
                consciousness = 4
            }
            any_pop = {
                limit = { has_pop_culture = slovene }
                militancy = -4
                consciousness = -4
            }
        }
        ai_will_do = {
            factor = 1
        }
    }

    embrace_croat_minority = {
        picture = embrace_minority
        potential = {
            OR = {
                tag = KUK
                tag = DNB
            }
            any_owned_province = { is_core = CRO }
            NOT = {
                accepted_culture = croat
                has_country_flag = embraced_croats
                has_country_flag = danube_proposal_in_progress
            }
            OR = {
                accepted_culture = czech
                NOT = { any_owned_province = { is_core = BOH } }
            }
        }
        allow = {
            year = 1870
            prestige = 50
            revolution_n_counterrevolution = 1
            psychoanalysis = 1
        }
        effect = {
            set_country_flag = embraced_croats
            add_accepted_culture = croat
            prestige = -25
            any_pop = {
                limit = {
                    OR = {
                        has_pop_culture = avar
                        has_pop_culture = czech
                    }
                }
                militancy = 4
                consciousness = 4
            }
            any_pop = {
                limit = { has_pop_culture = croat }
                militancy = -4
                consciousness = -4
            }
        }
        ai_will_do = {
            factor = 1
        }
    }

    budapest_united = {
        picture = budapest_city
        potential = {
            OR = {
                tag = KUK
                tag = X05
                tag = DNB
                tag = BAV
            }
            owns = 641
            NOT = { has_global_flag = budapest_founded }
        }

        allow = {
            revolution_n_counterrevolution = 1
            money = 25000
        }

        effect = {
            treasury = -20000
            set_global_flag = budapest_founded
            641 = { change_province_name = "Budapest" }
            641 = {
                life_rating = 5
                add_province_modifier = { name = recently_built_city duration = 1825 }
            }
        }

        ai_will_do = { factor = 1 }
    }

    take_eisenstadt = {
        picture = budapest_city
        potential = {
            tag = X05
            owns = 641
            624 = {
                NOT = { owned_by = THIS }
                owner = { vassal_of = THIS }
            }
        }
        allow = {
            war = no
        }
        effect = {
            random_country = {
                limit = {
                    tag = BAV
                    vassal_of = THIS
                    owns = 624
                    ai = yes
                }
                624 = { remove_core = BAV }
            }
            624 = {
                secede_province = THIS
                add_core = THIS
            }
        }
        ai_will_do = { factor = 1 }
    }
    south_tirol_compromise = {
        picture = south_tirol_propaganda
        potential = {
            owns = 734 #Trentin
            owns = 735 #Bozen
            OR = {
                734 = { is_core = THIS }
                735 = { is_core = THIS }
            }
            any_neighbor_country = {
                OR = {
                    is_core = 734
                    is_core = 735
                }
                OR = {
                    AND = {
                        tag = ITA
                        owns = 730
                        owns = 728
                    }
                    AND = {
                        is_culture_group = germanic
                        owns = 612
                        owns = 615
                    }
                }
            }
            NOT = { has_global_flag = south_tirol_compromise_attempted }
        }

        allow = {
            great_wars_enabled = yes
            war = no
            any_neighbor_country = {
                NOT = { truce_with = THIS }
                war = no
                relation = { who = THIS value = 0 }
                OR = {
                    is_core = 734
                    is_core = 735
                }
                OR = {
                    AND = {
                        OR = {
                            primary_culture = north_italian
                            primary_culture = south_italian
                        }
                        owns = 730
                        owns = 728
                    }
                    AND = {
                        OR = {
                            primary_culture = north_german
                            primary_culture = south_german
                        }
                        owns = 612
                        owns = 615
                    }
                }
            }
        }

        effect = {
            set_global_flag = south_tirol_compromise_attempted
            badboy = -1
            random_country = {
                limit = {
                    neighbour = THIS
                    NOT = {
                        owns = 734 #Trentin
                        owns = 735 #Bozen
                    }
                    OR = {
                        AND = {
                            tag = ITA
                            owns = 730
                            owns = 728
                        }
                        AND = {
                            is_culture_group = germanic
                            owns = 612
                            owns = 615
                        }
                    }
                }
                country_event = 110089
            }
        }

        ai_will_do = {
            factor = 1
            #"Benefactor AI will take this decision"
            modifier = {
                factor = 0
                NOT = { has_country_modifier = benefactor_ai }
            }
        }
    }

}
